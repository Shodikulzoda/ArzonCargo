@using MudBlazor.Components.Service
@inject AuthService AuthService
@inject NavigationManager Navigation

<MudNavMenu>
    @if (AuthService.IsAdmin)
    {
        <MudNavLink Href="home" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.ShoppingCart">
            Заказы клиентов
        </MudNavLink>

        <MudNavLink Href="pockets" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Schedule">
            Незавершённые заказы
        </MudNavLink>

        <MudNavLink Href="adding-product" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.PlaylistAdd">
            Добавление продукта
        </MudNavLink>

        <MudNavLink Href="products" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Inventory">
            Все продукты
        </MudNavLink>
    }

    <MudNavLink OnClick="Logout" Icon="@Icons.Material.Filled.ExitToApp" Color="Color.Error">
        Выйти
    </MudNavLink>

    @if (AuthService.IsAdder)
    {
        <MudNavLink Href="adding-product" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.PlaylistAdd">
            Добавление продукта
        </MudNavLink>
    }

</MudNavMenu>

@code {

    private void Logout()
    {
        AuthService.ClearToken();
        Navigation.NavigateTo("/", true);
    }

}